# Test info

- Name: Visual Regression - Nervenschmerzen Page (Desktop) >> nervenschmerzen-visual-desktop-fr
- Location: /Users/b.enukidze/Documents/Dartera/Test/DolomedAutomation/src/tests/nervenschmerzen/NervenschmerzenPageUITest.spec.ts:34:9

# Error details

```
Error: expect(received).toBeLessThanOrEqual(expected)

Expected: <= 0.7
Received:    3.180213449060797
    at VisualTestHelper.runVisualTest (/Users/b.enukidze/Documents/Dartera/Test/DolomedAutomation/src/utils/visual-test-helper.ts:89:41)
    at MultiLanguageVisualHelper.runIndividualLanguageTest (/Users/b.enukidze/Documents/Dartera/Test/DolomedAutomation/src/utils/multi-language-visual-helper.ts:56:5)
    at /Users/b.enukidze/Documents/Dartera/Test/DolomedAutomation/src/tests/nervenschmerzen/NervenschmerzenPageUITest.spec.ts:35:7
```

# Page snapshot

```yaml
- heading "🍪 Wir schätzen Ihre Privatsphäre" [level=1]
- paragraph: Wir verwenden Cookies, um Ihr Surferlebnis zu verbessern, personalisierte Anzeigen oder Inhalte einzusetzen und unseren Datenverkehr zu analysieren. Wenn Sie auf „Alle akzeptieren" klicken, stimmen Sie der Anwendung von Cookies zu.
- button "Anpassen"
- button "Alle akzeptieren"
- banner:
  - navigation:
    - link "DOLOMED_Logo_RGB_Claim 1":
      - /url: https://dolomed.ch/fr/
      - img "DOLOMED_Logo_RGB_Claim 1"
    - button "Open/Close Menu":
      - img
    - button "Français":
      - link "Français":
        - /url: "#"
        - img
        - text: Français
- 'heading "Une meilleure qualité de vie malgré la maladie avec des douleurs nerveuses : notre approche holistique du traitement des douleurs nerveuses" [level=1]':
  - text: "Une meilleure qualité de vie malgré la maladie avec des douleurs nerveuses : notre"
  - strong: approche
  - text: holistique
  - strong: du traitement des douleurs nerveuses
- paragraph: Le système nerveux est un réseau complexe qui transmet des signaux entre le cerveau et différentes parties du corps. Il existe différentes maladies qui affectent soit des nerfs individuels, soit le système nerveux central (moelle épinière et cerveau), soit le système nerveux périphérique. En raison des différentes fonctions du système nerveux et de la complexité de leurs interactions, les symptômes sont variés. Au niveau du cerveau, il peut s'agir de maux de tête, de dépression ou d'épilepsie, alors que les symptômes des nerfs périphériques touchés sont souvent localisés. Les douleurs nerveuses (douleurs neuropathiques) peuvent avoir un impact considérable sur la qualité de vie et ont de nombreuses causes possibles. En règle générale, les examens d'imagerie en cas de douleurs nerveuses sont surtout utiles pour exclure d'autres causes, et la mesure de la vitesse de conduction nerveuse sur le nerf concerné ne permet pas toujours de poser un diagnostic. Chez Dolomed, nous sommes spécialisés dans le diagnostic et le traitement de différents types de douleurs nerveuses. Notre approche holistique combine des thérapies de pointe et des plans de traitement personnalisés afin de vous offrir un soulagement efficace en plus du traitement médicamenteux conventionnel de la douleur.
- link "Prendre rendez-vous":
  - /url: "#"
- link "Appeler maintenant":
  - /url: tel:032 324 39 90
- img "Dolomed-Behandlung-Von-Nervenschmerzen-Hero-Illustrator-01"
- img "Dolomed-Bewegungsapparat-Arthrose-circle-light"
- img "Dolomed-Bewegungsapparat-arthrose-circles-4"
- heading "Dépression" [level=2]
- paragraph: La dépression est très répandue et peut s'accompagner de symptômes physiques. Dans de nombreux cas, la perception de son propre corps est perturbée et des symptômes non spécifiques tels que des troubles de la sensibilité, des douleurs abdominales ou des états d'épuisement apparaissent. Une psychothérapie complémentaire est vivement conseillée.
- heading "Le traitement chez Dolomed comprend" [level=3]
- list:
  - listitem:
    - strong: "TENS :"
    - text: stimulation nerveuse électrique transcutanée pour le soulagement de la douleur
  - listitem:
    - strong: "Acupuncture :"
    - text: médecine traditionnelle chinoise visant à réduire la douleur et à améliorer l'humeur.
  - listitem:
    - strong: "Kétamine :"
    - text: traitement intraveineux pour améliorer rapidement l'humeur et réduire la douleur.
- heading "Douleurs nerveuses (neuropathie)" [level=2]
- paragraph: Les douleurs neuropathiques sont dues à des lésions ou des maladies des nerfs. Les causes sont multiples. Des infections (par exemple le zona), des blessures directes, des opérations ou même des traumatismes mineurs peuvent entraîner des lésions des nerfs. Les symptômes typiques d'une lésion nerveuse sont la sensation de brûlure, l'engourdissement et les douleurs aiguës.
- heading "Nos options thérapeutiques comprennent" [level=3]
- list:
  - listitem:
    - strong: "Neuromodulation :"
    - text: influence de l'activité des fibres de la douleur dans la moelle épinière.
  - listitem:
    - strong: "Infiltrations de nerfs et de muscles spécifiques :"
    - text: Injections ciblées pour réduire l'inflammation et la douleur.
  - listitem:
    - strong: "TENS :"
    - text: soulagement de la douleur par stimulation électrique des nerfs.
- img "Dolomed-Behandlung-Von-Nervenschmerzen-Nervenschmerzen-Illustrator-01"
- img "Dolomed-Behandlung-Von-Nervenschmerzen-Postoperativer-Illustrator-01"
- img "Dolomed-Bewegungsapparat-arthrose-circles-4"
- heading "Douleur postopératoire" [level=2]
- paragraph: Les douleurs postopératoires surviennent après une intervention chirurgicale et peuvent entraîner des douleurs nerveuses chroniques. L'abdomen, la poitrine ou l'aine sont souvent concernés. Suite à une lésion des plus petits nerfs, une douleur brûlante apparaît dans la zone opérée. Dans de nombreux cas, la douleur s'étend au fil du temps.
- heading "Nos approches de traitement chez Dolomed comprennent" [level=3]
- list:
  - listitem:
    - strong: "TENS :"
    - text: favoriser la guérison et soulager la douleur après une opération.
  - listitem:
    - strong: "Neuromodulation :"
    - text: réduction de la douleur postopératoire en agissant sur les signaux nerveux.
  - listitem:
    - strong: "Infiltrations :"
    - text: Injections précises pour soulager la douleur et réduire l'inflammation.
- heading "CRPS de type 1 et de type 2" [level=2]
- paragraph: Le syndrome douloureux régional complexe (SDRC) est une affection douloureuse chronique qui survient souvent après une blessure. Les symptômes typiques sont des douleurs intenses, des gonflements et des modifications de la peau. Les causes les plus fréquentes sont les interventions chirurgicales ou les accidents, mais une hernie discale ou des blessures minimes peuvent déjà déclencher la maladie en cas de tendance existante au CRPS. Il est particulièrement important d'établir un diagnostic précoce et de mettre en place un traitement multimodal comprenant la médecine de la douleur, l'ergothérapie et la physiothérapie.
- heading "Nos traitements comprennent entre autres" [level=3]
- list:
  - listitem:
    - strong: "Neuromodulation :"
    - text: soulagement des symptômes en agissant sur l'activité nerveuse.
  - listitem:
    - strong: "TENS :"
    - text: réduction de la douleur et promotion de la guérison.
  - listitem:
    - strong: "Kétamine :"
    - text: traitement intraveineux pour soulager les symptômes du CRPS.
- img "Dolomed-Behandlung-Von-Nervenschmerzen-CRPS-Illustrator-01-1-1"
- img "Dolomed-Bewegungsapparat-Spastik-Illustration-03"
- img "Dolomed-Behandlung-Von-Nervenschmerzen-Nervenschmerzen-Illustrator-01-101"
- heading "Polyneuropathie" [level=2]
- paragraph: La polyneuropathie est une lésion de plusieurs nerfs périphériques qui peut entraîner des douleurs, un engourdissement et une faiblesse musculaire. La cause des lésions nerveuses peut être le diabète, des problèmes de circulation sanguine ou des médicaments de chimiothérapie. Souvent, la cause est inconnue.
- heading "Chez Dolomed, nous proposons les approches de traitement suivantes :" [level=3]
- list:
  - listitem:
    - strong: "Neuromodulation :"
    - text: soulagement de la douleur en influençant les signaux nerveux et en améliorant la circulation sanguine. Cette thérapie sans médicaments représente une grande valeur ajoutée.
  - listitem:
    - strong: "Acupuncture :"
    - text: thérapie traditionnelle pour améliorer la santé nerveuse.
  - listitem:
    - strong: "Infiltrations :"
    - text: Injections précises pour réduire l'inflammation et la douleur.
- heading "Névralgie post-zostérienne" [level=2]
- paragraph: La névralgie post-zostérienne est une complication du zona et provoque de fortes douleurs nerveuses. Les dommages directs causés à la gaine nerveuse par le virus de l'herpès provoquent des douleurs nerveuses qui se manifestent par une douleur de type brûlure dans la zone touchée.
- heading "Nos méthodes de traitement comprennent" [level=3]
- list:
  - listitem:
    - strong: "TENS :"
    - text: soulagement de la douleur par stimulation électrique des nerfs.
  - listitem:
    - strong: "Neuromodulation :"
    - text: réduction des douleurs nerveuses en agissant sur les signaux nerveux.
  - listitem:
    - strong: "Infiltrations :"
    - text: Injections précises pour réduire l'inflammation et la douleur.
- heading "Comment continuer ?" [level=2]
- img "Dolomed-Bewegungsapparat-Wieweiter-Illustration-02"
- text: Vous souffrez de douleurs dorsales ou d’autres douleurs musculo-squelettiques ? Prenez rendez-vous chez Dolomed dès aujourd’hui et demandez conseil à nos experts. Contactez-nous à l’adresse
- link "info@dolomed.ch":
  - /url: mailto:info@dolomed.ch
- text: pour en savoir plus sur nos options de traitement individuel. Veuillez noter qu’il est nécessaire d’être adressé pour le traitement.
- link "Prendre un rendez-vous":
  - /url: "#"
- heading "Foire aux questions (FAQ)" [level=2]
- button "Comment savoir si l'on souffre de douleurs nerveuses (douleurs neuropathiques) ?" [expanded]
- region "Comment savoir si l'on souffre de douleurs nerveuses (douleurs neuropathiques) ?":
  - paragraph: Les douleurs nerveuses se manifestent souvent par une douleur à type de brûlure, un engourdissement et une sensibilité au toucher. Les douleurs neuropathiques sont le signe d’une lésion nerveuse dans laquelle les signaux de douleur sont générés de manière incontrôlée.
- button "Quels sont les traitements que vous proposez chez Dolomed ?"
- button "Comment prendre rendez-vous ?"
- button "Quel est le meilleur antalgique pour les douleurs nerveuses ?"
- button "L'exercice physique est-il bénéfique pour les douleurs nerveuses ?"
- button "Combien de temps dure une inflammation des nerfs ?"
- button "Comment faire disparaître les douleurs nerveuses ?"
- button "Quel est le médecin compétent pour les douleurs nerveuses ?"
- heading "ZUWEISUNG / BON DE DÉLÉGATION" [level=2]
- paragraph: Centre de compétence pour la médecine de la douleur Centre de compétence pour la médecine de la douleur
- list:
  - listitem: Site Biel / Site Bienne
- list:
  - listitem: Bahnhofplatz 2C / Place de la Gare 2C 2ème étage / Stock, 2502 Biel-Bienne
- list:
  - listitem:
    - img
    - text: Numéro de téléphone
- list:
  - listitem:
    - link "+41 32 324 39 90":
      - /url: tel:+41%2032%20324%2039%2090
- list:
  - listitem:
    - img
    - text: E-mail
- list:
  - listitem:
    - link "info@dolomed.ch":
      - /url: mailto:info@dolomed.ch
- list:
  - listitem: Standort Bern / Site de Berne
- list:
  - listitem: Sidlerstrasse 4, 3012 Bern-Berne 2. Stock / 2ème étages, 2502 Bern-Berne
- list:
  - listitem:
    - img
    - text: Numéro de téléphone
- list:
  - listitem:
    - link "+41 32 324 39 90":
      - /url: tel:+41%2032%20324%2039%2090
- list:
  - listitem:
    - img
    - text: E-mail
- list:
  - listitem:
    - link "info@dolomed.ch":
      - /url: mailto:info@dolomed.ch
- contentinfo:
  - link "Image link":
    - /url: https://dolomed.ch/
    - img "Image link"
  - paragraph: Suivez nous
  - list:
    - listitem:
      - link:
        - /url: https://www.instagram.com/dolomed.ag
        - img
  - text: Pages
  - link "Accueil":
    - /url: https://dolomed.ch/fr/
  - link "Offre":
    - /url: https://dolomed.ch/fr/#angebot
  - link "Pour les patients et les délégations":
    - /url: https://dolomed.ch/fr/#patienten
  - link "Contact":
    - /url: https://dolomed.ch/fr/#kontakt
  - link "TEAM":
    - /url: https://dolomed.ch/fr/#team
  - link "Carrière":
    - /url: https://dolomed.ch/fr/#karriere
  - text: Maladies
  - link "Appareil locomoteur":
    - /url: /fr/appareil-locomoteur/
  - link "Douleurs d'organes internes":
    - /url: /fr/douleurs-dorganes-internes/
  - link "Maux de tête et douleurs faciales":
    - /url: /fr/maux-de-tete-et-douleurs-faciales/
  - link "Maladies vasculaires":
    - /url: /fr/maladies-vasculaires/
  - link "Traitement des douleurs nerveuses":
    - /url: /fr/traitement-des-douleurs-nerveuses/
  - text: Thérapie
  - link "Stimulation nerveuse":
    - /url: /fr/stimulation-nerveuse/
  - link "Un soulagement naturel grâce à l'acupuncture":
    - /url: fr/soulagement-naturel-par-lacupuncture/
  - link "douleurs chroniques":
    - /url: /fr/douleurs-chroniques/
  - link "Traitement de la douleur chronique":
    - /url: /fr/traitement-des-maladies-chroniques/
  - link "Traitement du mal de dos":
    - /url: /fr/traitement-du-mal-de-dos/
  - link "Plasma (PRP) pour un traitement efficace":
    - /url: /fr/plasma-prp/
  - link "Thérapie par cellules souches":
    - /url: /fr/therapie-par-cellules-souches/
  - link "Thérapie au laser":
    - /url: /fr/therapie-au-laser/
  - link "Thérapie extracorporelle par ondes de choc":
    - /url: /fr/therapie-extracorporelle-par-ondes-de-choc/
  - link "Thérapie par le mouvement et entraînement des fascias":
    - /url: /fr/therapie-par-le-mouvement-et-entrainement-des-fascias/
  - link "Thérapie topique à base de capsaïcine hautement concentrée":
    - /url: /fr/therapie-topique-a-base-de-capsaicine-hautement-concentree/
  - text: Mentions légales
  - link "Mentions légales":
    - /url: /fr/mentions-legales/
  - link "Protection des données":
    - /url: /fr/protection-des-donnees/
  - paragraph: Copyright 2025 – Tous droits réservés Dolomed.
- button
- button "retour":
  - img
  - text: retour
- button "Close contact slide button":
  - img "Close"
  - text: contact slide button
- heading "Nous aimons toujours discuter avec toi" [level=2]
- text: Parlons
- link "Phone +41 32 324 39 90":
  - /url: tel:+41323243990
  - img "Phone"
  - text: +41 32 324 39 90
- link "Email info@dolomed.ch":
  - /url: mailto:info@dolomed.ch
  - img "Email"
  - text: info@dolomed.ch
- list:
  - listitem:
    - img "list icon"
    - heading "Prendre rendez-vous" [level=3]
  - listitem:
    - link "list icon Support technique":
      - /url: https://dolomed.ch/fr/#kontaktform
      - img "list icon"
      - heading "Support technique" [level=3]
- button "retour":
  - img
  - text: retour
- button "Close contact slide button":
  - img "Close"
  - text: contact slide button
- text: Envoyer un message à Dolomed Si vous avez des questions ou des préoccupations, veuillez nous contacter. Des réponses rapides et une aide sont garanties.
- list
- form "Formulaire de contact":
  - paragraph:
    - text: Nom
    - textbox "Nom"
  - paragraph:
    - text: Adresse électronique
    - textbox "Adresse électronique"
  - paragraph:
    - text: Numéro de téléphone
    - textbox "Numéro de téléphone"
  - paragraph:
    - text: Écrivez votre message ci-dessous
    - textbox "Écrivez votre message ci-dessous"
  - paragraph:
    - button "Envoyer"
- button "retour":
  - img
  - text: retour
- button "Close contact slide button":
  - img "Close"
  - text: contact slide button
- text: Demander à être rappelé Si vous avez des questions ou des préoccupations, veuillez nous contacter. Des réponses rapides et une aide sont garanties.
- list
- form "Formulaire de contact":
  - paragraph:
    - text: Nom
    - textbox "Nom"
  - paragraph:
    - text: Adresse électronique
    - textbox "Adresse électronique"
  - paragraph:
    - text: Numéro de téléphone
    - textbox "Numéro de téléphone"
  - paragraph:
    - text: Écrivez votre message ci-dessous
    - textbox "Écrivez votre message ci-dessous"
  - paragraph:
    - button "Envoyer"
- link "Go to top":
  - /url: "#"
  - img
- text: tablet
```

# Test source

```ts
   1 | import { test, expect, Page, Browser } from '@playwright/test';
   2 | import { ImageComparison, DiffResult, SizeMismatchTolerance } from './image-diff';
   3 |
   4 | export interface VisualTestConfig {
   5 |   url: string;
   6 |   testName: string;
   7 |   diffThreshold?: number;
   8 |   viewport?: { width: number; height: number };
   9 |   waitForLoadState?: 'load' | 'domcontentloaded' | 'networkidle';
   10 |   customStyles?: string;
   11 |   scrollToBottom?: boolean;
   12 |   waitAfterScroll?: number;
   13 |   sizeMismatchTolerance?: SizeMismatchTolerance;
   14 | }
   15 |
   16 | export class VisualTestHelper {
   17 |   private imageComparison: ImageComparison;
   18 |   private page!: Page;
   19 |   private timestamp: string;
   20 |   private currentUser: string;
   21 |
   22 |   constructor() {
   23 |     this.imageComparison = new ImageComparison();
   24 |     this.timestamp = new Date().toISOString().replace('T', ' ').slice(0, 19);
   25 |     this.currentUser = process.env.USER || process.env.USERNAME || 'unknown';
   26 |   }
   27 |
   28 |   async setup(browser: Browser, viewport = { width: 1366, height: 768 }): Promise<void> {
   29 |     const context = await browser.newContext({ viewport });
   30 |     this.page = await context.newPage();
   31 |     console.log(`Test setup initialized at ${this.timestamp} by ${this.currentUser}`);
   32 |   }
   33 |
   34 |   async cleanup(): Promise<void> {
   35 |     if (this.page) {
   36 |       await this.page.close();
   37 |     }
   38 |   }
   39 |
   40 |   async runVisualTest(config: VisualTestConfig): Promise<DiffResult> {
   41 |     const {
   42 |       url,
   43 |       testName,
   44 |       diffThreshold = 0.1,
   45 |       waitForLoadState = 'networkidle',
   46 |       customStyles,
   47 |       scrollToBottom = true,
   48 |       waitAfterScroll = 1000,
   49 |       sizeMismatchTolerance
   50 |     } = config;
   51 |
   52 |     console.log(`Starting visual test at ${this.timestamp}`);
   53 |     console.log(`Test running by user: ${this.currentUser}`);
   54 |     console.log('Page dimensions:', await this.page.viewportSize());
   55 |
   56 |     try {
   57 |       // Navigate to the page
   58 |       await this.page.goto(url);
   59 |       await this.page.waitForLoadState(waitForLoadState);
   60 |
   61 |       // Apply custom styles if provided
   62 |       if (customStyles) {
   63 |         await this.page.addStyleTag({ content: customStyles });
   64 |       }
   65 |
   66 |       // Auto-scroll if enabled
   67 |       if (scrollToBottom) {
   68 |         await this.autoScroll(waitAfterScroll);
   69 |       }
   70 |
   71 |       // Perform image comparison
   72 |       const diffResult = await this.imageComparison.compareScreenshots(
   73 |         this.page, 
   74 |         testName, 
   75 |         diffThreshold, 
   76 |         sizeMismatchTolerance
   77 |       );
   78 |       const reportPath = this.imageComparison.generateDiffReport(testName, diffResult);
   79 |       
   80 |       console.log(`
   81 |         Test Results:
   82 |         - Timestamp: ${this.timestamp}
   83 |         - User: ${this.currentUser}
   84 |         - Report Path: ${reportPath}
   85 |         - Diff Percentage: ${diffResult.diffPercentage.toFixed(2)}%
   86 |       `);
   87 |
   88 |       // Assert the diff percentage
>  89 |       expect(diffResult.diffPercentage).toBeLessThanOrEqual(diffThreshold);
      |                                         ^ Error: expect(received).toBeLessThanOrEqual(expected)
   90 |
   91 |       return diffResult;
   92 |
   93 |     } catch (error) {
   94 |       console.error(`
   95 |         Test failed at ${this.timestamp}
   96 |         User: ${this.currentUser}
   97 |         Error: ${error}
   98 |       `);
   99 |       throw error;
  100 |     }
  101 |   }
  102 |
  103 |   private async autoScroll(waitAfterScroll: number = 1000): Promise<void> {
  104 |     await this.page.evaluate(async () => {
  105 |       await new Promise<void>((resolve) => {
  106 |         let totalHeight = 0;
  107 |         const distance = 100;
  108 |         const timer = setInterval(() => {
  109 |           const scrollHeight = document.documentElement.scrollHeight;
  110 |           window.scrollBy(0, distance);
  111 |           totalHeight += distance;
  112 |
  113 |           if (totalHeight >= scrollHeight) {
  114 |             clearInterval(timer);
  115 |             window.scrollTo(0, scrollHeight);
  116 |             resolve();
  117 |           }
  118 |         }, 240);
  119 |       });
  120 |     });
  121 |
  122 |     await this.page.waitForTimeout(waitAfterScroll);
  123 |   }
  124 |
  125 |   // Getter method for accessing the image comparison instance if needed
  126 |   get imageComparisonInstance(): ImageComparison {
  127 |     return this.imageComparison;
  128 |   }
  129 |
  130 |   // Getter method for accessing the page instance if needed
  131 |   getPage(): Page {
  132 |     return this.page;
  133 |   }
  134 | }
```